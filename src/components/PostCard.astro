---
import type { PostViewModel } from "../lib/wp";

const { post } = Astro.props as {
  post: PostViewModel;
};
---

<a
  href={`/articulos/${post.slug}`}
  class="group block overflow-hidden rounded-2xl bg-base-300 shadow-sm transition-all duration-250 hover:-translate-y-1 hover:shadow-xl"
>
  <div class="relative aspect-video overflow-hidden">
    {
            post.featuredImage ? (
                <img
                    src={post.featuredImage.url}
                    alt={post.featuredImage.alt}
                    class="h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"
                />
            ) : (
                <div class="flex h-full w-full items-center justify-center bg-neutral/10">
                    <span class="text-neutral/30">No Image</span>
                </div>
            )
        }
  </div>

  <div class="p-6">
    <div
      class="mb-3 flex items-center gap-2 text-xs font-medium text-base-content/60"
    >
      <time datetime={post.publishedAt}>
        {
                    new Date(post.publishedAt).toLocaleDateString(undefined, {
                        month: "short",
                        day: "numeric",
                        year: "numeric",
                    })
                }
      </time>
      <span>â€¢</span>
      <span>{post.author.name}</span>
    </div>

    <h3
      class="mb-3 text-2xl font-bold text-pretty leading-none transition-colors group-hover:text-primary "
    >
      {post.title}
    </h3>

    <div
      class="text-sm leading-relaxed text-base-content/70  prose prose-sm max-w-none"
      set:html={post.excerptHtml}
    />
  </div>
</a>
