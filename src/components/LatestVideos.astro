---
import { getLatestPostsFromCategoryId } from "../lib/wp";

const videos = await getLatestPostsFromCategoryId(9, 5);
---

<section class="bg-base-300">
    <!-- Latest 5 videos as Squircles cards -->
    <div class="container mx-auto p-6">
        <h2 class="text-3xl font-bold">Ãšltimos Videos</h2>

        <div
            class="carousel carousel-center w-full p-4 space-x-6 bg-transparent rounded-box"
        >
            {
                videos.map((video) => (
                    <div class="carousel-item">
                        <a
                            href={`/videos/${video.slug}`}
                            class="relative w-48 md:w-72 aspect-9/16 rounded-4xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-300 group ring-1 ring-white/10"
                        >
                            <img
                                src={video.featuredImage?.url}
                                alt={video.title}
                                class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                            />

                            <div class="absolute inset-0 bg-linear-to-t from-black/90 via-black/40 to-transparent opacity-80 group-hover:opacity-90 transition-opacity duration-300" />

                            <div class="absolute inset-0 flex items-center justify-center opacity-70 group-hover:opacity-100 transition-opacity duration-300">
                                <div class="w-10 h-10 md:w-12 md:h-12 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center ring-1 ring-white/40">
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        viewBox="0 0 24 24"
                                        fill="currentColor"
                                        class="w-6 h-6 text-white ml-0.5"
                                    >
                                        <path
                                            fill-rule="evenodd"
                                            d="M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.348c1.295.712 1.295 2.573 0 3.285L7.28 19.991c-1.25.687-2.779-.217-2.779-1.643V5.653z"
                                            clip-rule="evenodd"
                                        />
                                    </svg>
                                </div>
                            </div>

                            <div class="absolute bottom-0 left-0 right-0 p-4 md:p-6 transform translate-y-2 group-hover:translate-y-0 transition-transform duration-300">
                                <h3 class="text-white font-bold text-2xl md:text-2xl leading-tight line-clamp-5 text-shadow-blue-500/25 text-shadow-lg">
                                    {video.title}
                                </h3>
                                <div class="flex items-center gap-2 mt-3 text-xs text-white/80 font-medium">
                                    <span class="bg-white/20 px-2 py-0.5 rounded-full backdrop-blur-sm">
                                        Video
                                    </span>
                                </div>
                            </div>
                        </a>
                    </div>
                ))
            }
        </div>
    </div>
</section>
