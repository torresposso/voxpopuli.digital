---
import { getLatestPostsFromCategoryId } from "../lib/wp";

const videos = await getLatestPostsFromCategoryId(9, 5);
---

<section class="py-4 bg-base-300">
    <div class="container mx-auto px-4">
        <h2 class="text-2xl font-bold mb-4">VoxPopuli Videos</h2>
        <div class="carousel carousel-center w-full space-x-4 rounded-box aspect-video">
            {
                videos.map((video) => (
                    <div class="carousel-item aspect-video w-4/5 rounded-2xl">
                        <a href={`/articulos/${video.slug}`} class="card image-full bg-base-100 shadow-xl group hover:shadow-2xl transition-all duration-300 w-full aspect-[4/5] overflow-hidden">
                            <figure class="w-full h-full">
                                {video.featuredImage ? (
                                    <img
                                        src={video.featuredImage.url}
                                        alt={video.featuredImage.alt}
                                        class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
                                    />
                                ) : (
                                    <div class="w-full h-full bg-neutral flex items-center justify-center text-neutral-content">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 opacity-50" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
                                    </div>
                                )}
                            </figure>
                            <div class="card-body flex flex-col justify-end p-4 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-100 group-hover:from-black/90 transition-all">
                                <div class="mb-auto flex justify-center pt-8 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                                   <div class="w-12 h-12 rounded-full bg-primary/80 backdrop-blur-sm flex items-center justify-center scale-75 group-hover:scale-100 transition-transform duration-300">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary-content ml-1" viewBox="0 0 20 20" fill="currentColor">
                                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd" />
                                        </svg>
                                    </div>
                                </div>
                                <h3 class="card-title leading-tight mb-0 group-hover:text-primary transition-colors">
                                    {video.title}
                                </h3>
                            </div>
                        </a>
                    </div>
                ))
            }
        </div>
    </div>
</section>
