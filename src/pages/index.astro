---
import Layout from "../layouts/Layout.astro";
import Featured from "../components/Featured.astro";
import { WPQuery } from "../data/wordpress";

const data = await WPQuery({
	query: `
		query FeaturedPosts {
	posts(last: 4, where: {categoryName: "destacadas"}) {
		nodes {
		title
		slug
		date
		categories {
				nodes {
					name
				}
			}
		featuredImage {
			node {
				mediaItemUrl
				srcSet
				sizes
				altText
			}
		}
		}
	}
	}	
	`,
});
---

<Layout title="Welcome to Astro.">
	<Featured posts={data.posts.nodes} />
</Layout>
