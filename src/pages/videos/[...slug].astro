---
import BaseLayout from "../../layouts/BaseLayout.astro";

import { getLatestPostsFromCategoryId } from "../../lib/wp";

export async function getStaticPaths() {
  const posts = await getLatestPostsFromCategoryId(9, 5);
  return posts.map((post) => ({
    params: { slug: post.slug },
    props: { post },
  }));
}

const { post } = Astro.props;
---

<BaseLayout title={post?.title} description={post?.excerptHtml}>
  {
        post && (
            <>
                <header class="text-center max-w-4xl mx-auto px-2">
                    <h1 class="text-4xl md:text-6xl font-extrabold mb-6 text-white tracking-tight">
                        {post.title}
                    </h1>
                </header>
                <article
                    class="prose prose-lg lg:prose-xl mx-auto prose-invert"
                    set:html={post.contentHtml}
                />
            </>
        )
    }
</BaseLayout>
